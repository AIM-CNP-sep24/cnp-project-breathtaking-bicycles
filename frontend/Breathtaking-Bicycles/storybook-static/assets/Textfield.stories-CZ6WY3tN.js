import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as n}from"./index-CgfFrydU.js";import{T as y}from"./TranslateButton-D3XbGRfC.js";import"./_commonjsHelpers-CqkleIqs.js";function x(){const[s,l]=n.useState(""),[i,f]=n.useState([]),c=n.useRef(null),h="en",b="nl",d=async()=>{if(s.trim()!==""){const e=await fetch("http://127.0.0.1:5000/detect",{method:"POST",body:JSON.stringify({q:s}),headers:{"Content-type":"application/json"}}),[a]=await e.json();let r;if(a.language==="nl")r=h;else if(a.language==="en")r=b;else{console.log("This feature has only been worked out for nl en translation.");return}const u=await(await fetch("http://127.0.0.1:5000/translate",{method:"POST",body:JSON.stringify({q:s,source:"auto",target:r,alternatives:3}),headers:{"Content-type":"application/json"}})).json();console.log("detected language: "+a.language),console.log("translated text: "+u.translatedText),f(w=>[...w,{original:s,translated:u.translatedText}].slice(-2)),l("")}},j=e=>{e.key==="Enter"&&(e.preventDefault(),d())};return n.useEffect(()=>{var e;(e=c.current)==null||e.scrollIntoView({behavior:"smooth"})},[i]),t.jsx("div",{className:"flex flex-col justify-center pt-120 px-4 bg-white overflow-hidden",children:t.jsxs("div",{className:" w-full mx-auto",children:[t.jsxs("div",{className:"max-h-64 overflow-y-auto  mb-6 rounded",children:[i.map((e,a)=>t.jsxs("div",{className:"pr-4 pl-4 mb-2 m-2 bg-[#F5EEDC] pb-2 pt-2 rounded",children:[t.jsx("p",{className:"text-md text-gray-500 italic mb-1",children:e.original}),t.jsx("p",{className:"text-2xl break-words",children:e.translated})]},a)),t.jsx("div",{ref:c})]}),t.jsx("textarea",{placeholder:"type uw text hier",className:"resize-none border-2 border-[#F5EEDC] pb-15 mb-15 pl-2 rounded mr-10 w-full",onChange:e=>l(e.target.value),value:s,onKeyDown:j}),t.jsx(y,{onClick:d})]})})}x.__docgenInfo={description:"",methods:[],displayName:"Textfield"};const O={title:"Translate/Textfield",component:x},o={};var p,m,g;o.parameters={...o.parameters,docs:{...(p=o.parameters)==null?void 0:p.docs,source:{originalSource:"{}",...(g=(m=o.parameters)==null?void 0:m.docs)==null?void 0:g.source}}};const R=["Visual"];export{o as Visual,R as __namedExportsOrder,O as default};
